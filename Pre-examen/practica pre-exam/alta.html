<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Alta piloto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .container{
            max-width: 600px;
            margin: auto;
            padding: 20px;
            text-align: center;
            border: 1px solid black;
            border-radius: 8px;
        }
        .col{
            padding: 15px;
        }
        .error{
            color: red;
        }
    </style>
</head>
  <body>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <section class="d-flex align-items-center" style="height: 100vh;">
        <div class="container">
            <form id="alta" action="">
                <h3>Alta de piloto</h3>
                <div class="row g-3">
                    <div class="col">
                        <label for="inputN" class="form-label">Nombre</label>
                        <input type="text" class="form-control" aria-label="First name" id="inputNombre" name="nombre">
                    </div>
                    <div class="col">
                        <label for="inputA" class="form-label">Apellido</label>
                      <input type="text" class="form-control" aria-label="Last name" id="inputApellido" name="apellido">
                    </div>
                </div>
                <div class="row g-3">
                    <div class="col">
                        <label for="inputCH" class="form-label">Cant. horas vuelo</label>
                        <input type="number" class="form-control" id="inputCantHoras" name="cantHoras">
                    </div>
                    <div class="col">
                        <label for="inputTV" class="form-label">Tipo vuelo</label>
                        <div class="row-sm-10">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="tipoVuelo" id="radioCabotaje" value="Cabotaje">
                                <label class="form-check-label" for="radioCabotaje">Cabotaje</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="tipoVuelo" id="radioInternacional" value="Internacional">
                                <label class="form-check-label" for="radioInternacional">Internacional</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col g-3">
                    <label for="inputN" class="form-label">Nacionalidad</label>
                    <select id="inputNacionalidad" class="form-select" name="nacionalidad">
                      <option selected value="">Seleccionar</option>
                      <option value="Argentina">Argentina</option>
                      <option value="Uruguay">Uruguay</option>
                      <option value="Chile">Chile</option>
                    </select>
                </div>
                <div class="col">
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">Guardar</button>
                    </div>
                </div>
                <div class="col">
                    <a href="C:\Users\lucia\OneDrive\Escritorio\Documentos\3 año\programación\pre-exam-practice-114136MoyanoLucia\login.html">Volver</a>
                </div>
                <div class="row">
                    <div class="col" id="error"></div>
                </div>
            </form>
        </div>
    </section>

    <script>
        $("#alta").validate({
            rules:{
                nombre:{required: true, maxlength: 30},
                apellido:{required: true, maxlength: 20},
                cantHoras:{required: true, min: 50},
                tipoVuelo:{required: true},
                nacionalidad:{required:true}
            },
            messages:{
                nombre:{
                    required: "Debe ingresar un nombre",
                    maxlength: "Debe ser menor a 30 caracteres"
                },
                apellido:{
                    required: "Debe ingresar un apellido",
                    maxlength: "Debe ser menor a 20 caracteres"
                },
                cantHoras:{
                    required: "Debe ingresar la cantidad de horas de vuelo",
                    min: "Debe ser mayor a 50 vuelos"
                },
                tipoVuelo:{ required: "Elija el tipo de vuelo"},
                nacionalidad:{ required: "Elija la nacionalidad"}
            },
            errorPlacement: function(error, element){
                $("#error").append($("<p>").append(error))
            },
            submitHandler: function(form){
                let nombre = $("#inputNombre").val();
                let apellido = $("#inputApellido").val();
                let cantHoras = $("#inputCantHoras").val();
                let tipoVuelo = $("input").filter(":checked").val();
                let nacionalidad = $("#inputNacionalidad").val();

                localStorage.setItem("nombre",nombre);
                localStorage.setItem("apellido",apellido);
                localStorage.setItem("cantHoras",cantHoras);
                localStorage.setItem("tipoVuelo",tipoVuelo);
                localStorage.setItem("nacionalidad",nacionalidad);

                //Para mostrar el storage en un alert
                let getNombre = localStorage.getItem("nombre");
                let getApellido = localStorage.getItem("apellido");
                let getCantHoras = localStorage.getItem("cantHoras");
                let getTipoVuelo = localStorage.getItem("tipoVuelo");
                let getNacionalidad = localStorage.getItem("nacionalidad");

                let mensaje = `Nombre: ${getNombre}\n`
                mensaje += `Apellido: ${getApellido}\n`
                mensaje += `Cantidad de horas de vuelo: ${getCantHoras}\n'`
                mensaje += `Tipo de vuelo: ${getTipoVuelo}\n`
                mensaje += `Nacionalidad: ${getNacionalidad}\n`

                alert(mensaje);
            }
        })
    </script>
  </body>
</html>